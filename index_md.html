<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora de MD</title>
  <style>
    :root{--bg:#f7f6fb;--card:#ffffff;--accent:#7c3aed;--muted:#6b7280}
    *{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#ffffff);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:880px;background:var(--card);border-radius:16px;box-shadow:0 10px 30px rgba(15,23,42,0.08);padding:20px}
    h1{margin:0 0 6px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted);font-size:13px}
    .grid{display:grid;grid-template-columns:1fr 380px;gap:18px}
    .field{margin-bottom:12px}
    label{display:block;font-size:13px;color:#111827;margin-bottom:6px}
    input[type=number], input[type=text]{width:100%;padding:10px;border-radius:10px;border:1px solid #e6e6f0;outline:none}
    .small{font-size:12px;color:var(--muted)}
    .row{display:flex;gap:8px;align-items:center}
    button{cursor:pointer;padding:10px 12px;border-radius:10px;border:1px solid #e6e6f0;background:white}
    .primary{background:var(--accent);color:white;border:none}
    .danger{color:#ef4444;border:1px solid rgba(239,68,68,0.12)}
    .result{background:linear-gradient(180deg,#fbf8ff,#f4f3ff);padding:14px;border-radius:12px;height:100%;display:flex;flex-direction:column;justify-content:space-between}
    .result .item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed rgba(99,102,241,0.06)}
    .result .item:last-child{border-bottom:0}
    .muted{color:var(--muted)}
    @media (max-width:820px){.grid{grid-template-columns:1fr;}.result{height:auto}}
  </style>
</head>
<body>
  <div class="card">
    <header>
      <h1>Calculadora de MD</h1>
      <p class="lead">Insira quantos componentes você tem e veja quantos MD serão produzidos, quantas prensas são necessárias e quantos componentes sobram.</p>
    </header>

    <main class="grid">
      <section>
        <div class="field">
          <label>Quantidade de Componentes</label>
          <div class="row">
            <input id="components" type="number" min="0" value="50" />
            <button id="inc">+1</button>
            <button id="dec">-1</button>
            <button id="clear" class="danger">limpar</button>
          </div>
        </div>

        <div class="field">
          <label><input id="showAdvanced" type="checkbox" /> Mostrar opções avançadas</label>
        </div>

        <div id="advancedArea" style="display:none;margin-top:8px;padding:12px;border-radius:10px;border:1px solid #f0eff8;background:#fbfbff">
          <div class="field">
            <label>Componentes por conjunto</label>
            <input id="perSetComponents" type="number" min="1" value="4" />
            <div class="small">Padrão: 4 componentes</div>
          </div>

          <div class="field">
            <label>MD por conjunto</label>
            <input id="mdPerSet" type="number" min="0" value="32" />
            <div class="small">Padrão: 32 MD</div>
          </div>
        </div>

        <div style="margin-top:14px">
          <button id="copy" class="primary">Copiar resultado</button>
          <button id="reset" style="margin-left:8px">Resetar</button>
        </div>

        <p class="small" style="margin-top:10px;color:var(--muted)">Dica: Habilite opções avançadas se quiser mudar a receita (ex.: outros valores de componentes por conjunto ou MD por conjunto).</p>
      </section>

      <aside>
        <div class="result">
          <div>
            <h3 style="margin:0 0 8px">Resultado</h3>
            <div class="item"><span class="muted">Conjuntos completos</span><strong id="sets">0</strong></div>
            <div class="item"><span class="muted">MD produzido</span><strong id="md">0</strong></div>
            <div class="item"><span class="muted">Prensas necessárias</span><strong id="presses">0</strong></div>
            <div class="item"><span class="muted">Componentes sobrando</span><strong id="leftover">0</strong></div>
          </div>

          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="openExample">Exemplo (50)</button>
            <button id="explain" style="margin-left:auto">Como funciona</button>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <script>
    // Elements
    const componentsEl = document.getElementById('components');
    const perSetEl = document.getElementById('perSetComponents');
    const mdPerSetEl = document.getElementById('mdPerSet');
    const setsEl = document.getElementById('sets');
    const mdEl = document.getElementById('md');
    const pressesEl = document.getElementById('presses');
    const leftoverEl = document.getElementById('leftover');
    const showAdvanced = document.getElementById('showAdvanced');
    const advancedArea = document.getElementById('advancedArea');

    // Buttons
    document.getElementById('inc').addEventListener('click',()=>{componentsEl.value = Number(componentsEl.value||0)+1; recalc();});
    document.getElementById('dec').addEventListener('click',()=>{componentsEl.value = Math.max(0, Number(componentsEl.value||0)-1); recalc();});
    document.getElementById('clear').addEventListener('click',()=>{componentsEl.value = 0; recalc();});
    document.getElementById('reset').addEventListener('click',()=>{componentsEl.value=50; perSetEl.value=4; mdPerSetEl.value=32; showAdvanced.checked=false; advancedArea.style.display='none'; recalc();});
    document.getElementById('copy').addEventListener('click', copyResult);
    document.getElementById('openExample').addEventListener('click', ()=>{componentsEl.value=50; recalc();});
    document.getElementById('explain').addEventListener('click', ()=>{alert('Regra: {Componentes por conjunto} + 1 prensa → gera {MD por conjunto}.\nExemplo padrão: 4 componentes + 1 prensa = 32 MD.\nO app calcula quantos conjuntos inteiros você consegue fazer com a quantidade de componentes informada.');});

    showAdvanced.addEventListener('change', ()=>{advancedArea.style.display = showAdvanced.checked ? 'block' : 'none';});

    [componentsEl, perSetEl, mdPerSetEl].forEach(el=>el.addEventListener('input', recalc));

    function recalc(){
      const components = Math.max(0, Math.floor(Number(componentsEl.value) || 0));
      const perSet = Math.max(1, Math.floor(Number(perSetEl.value) || 1));
      const mdPerSet = Math.max(0, Number(mdPerSetEl.value) || 0);

      const sets = Math.floor(components / perSet);
      const md = sets * mdPerSet;
      const presses = sets; // 1 prensa por conjunto
      const leftover = components - sets * perSet;

      setsEl.textContent = sets;
      mdEl.textContent = md;
      pressesEl.textContent = presses;
      leftoverEl.textContent = leftover;
    }

    function copyResult(){
      const text = `Componentes: ${componentsEl.value}\nConjuntos (x${perSetEl.value}): ${setsEl.textContent}\nMD produzido: ${mdEl.textContent}\nPrensas necessárias: ${pressesEl.textContent}\nComponentes sobrando: ${leftoverEl.textContent}`;
      navigator.clipboard.writeText(text).then(()=>{
        alert('Resultado copiado para a área de transferência!');
      }).catch(()=>{
        prompt('Copie o resultado abaixo:', text);
      });
    }

    // initial calc
    recalc();
  </script>
</body>
</html>